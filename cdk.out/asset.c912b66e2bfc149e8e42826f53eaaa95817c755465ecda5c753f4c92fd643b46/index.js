"use strict";var a=Object.defineProperty;var n=Object.getOwnPropertyDescriptor;var u=Object.getOwnPropertyNames;var c=Object.prototype.hasOwnProperty;var l=(e,r)=>{for(var s in r)a(e,s,{get:r[s],enumerable:!0})},d=(e,r,s,o)=>{if(r&&typeof r=="object"||typeof r=="function")for(let t of u(r))!c.call(e,t)&&t!==s&&a(e,t,{get:()=>r[t],enumerable:!(o=n(r,t))||o.enumerable});return e};var y=e=>d(a({},"__esModule",{value:!0}),e);var m={};l(m,{handler:()=>h});module.exports=y(m);var h=async e=>{let r=e.headers.origin||e.headers.Origin||"https://www.asaracing.live",s={"Access-Control-Allow-Origin":"https://www.asaracing.live","Access-Control-Allow-Methods":"OPTIONS,POST,GET","Access-Control-Allow-Headers":"Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token","Access-Control-Allow-Credentials":"true"};if(e.httpMethod==="OPTIONS")return{statusCode:200,headers:s,body:""};try{if(e.resource==="/auth/session/verify"){let i=e.headers.Cookie||e.headers.cookie;return{statusCode:200,headers:s,body:JSON.stringify({cookiesPresent:!!i,cookies:i?g(i):null})}}if(!e.body)return{statusCode:400,headers:s,body:JSON.stringify({message:"Missing request body"})};let{accessToken:o,idToken:t}=JSON.parse(e.body);return!o||!t?{statusCode:400,headers:s,body:JSON.stringify({message:"Missing required tokens"})}:{statusCode:200,headers:{...s,"Set-Cookie":[`accessToken=${o}; HttpOnly; Secure; Path=/; SameSite=None; Max-Age=3600`,`idToken=${t}; HttpOnly; Secure; Path=/; SameSite=None; Max-Age=3600`].join("; ")},body:JSON.stringify({success:!0})}}catch(o){return console.error("Error:",o),{statusCode:500,headers:s,body:JSON.stringify({message:"Internal server error"})}}};function g(e){return e.split(";").map(r=>r.trim()).reduce((r,s)=>{let[o,t]=s.split("=");return r[o]=t,r},{})}0&&(module.exports={handler});
//# sourceMappingURL=index.js.map
