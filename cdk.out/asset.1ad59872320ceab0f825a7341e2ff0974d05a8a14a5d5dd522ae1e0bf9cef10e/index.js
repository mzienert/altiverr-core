"use strict";var a=Object.defineProperty;var i=Object.getOwnPropertyDescriptor;var n=Object.getOwnPropertyNames;var d=Object.prototype.hasOwnProperty;var u=(t,e)=>{for(var s in e)a(t,s,{get:e[s],enumerable:!0})},l=(t,e,s,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of n(e))!d.call(t,o)&&o!==s&&a(t,o,{get:()=>e[o],enumerable:!(r=i(e,o))||r.enumerable});return t};var c=t=>l(a({},"__esModule",{value:!0}),t);var h={};u(h,{handler:()=>y});module.exports=c(h);var y=async t=>{let e={"Access-Control-Allow-Origin":"https://www.asaracing.live","Access-Control-Allow-Credentials":"true","Access-Control-Allow-Methods":"GET,POST,OPTIONS","Access-Control-Allow-Headers":"Content-Type,Authorization,Cookie"};if(t.httpMethod==="OPTIONS")return{statusCode:200,headers:e,body:""};if(t.httpMethod==="POST"){let{accessToken:s,idToken:r}=JSON.parse(t.body||"{}");return!s||!r?{statusCode:400,headers:e,body:JSON.stringify({message:"Missing required tokens"})}:{statusCode:200,headers:{...e,"Set-Cookie":`accessToken=${s}; Path=/; HttpOnly; Secure; SameSite=None, idToken=${r}; Path=/; HttpOnly; Secure; SameSite=None`},body:JSON.stringify({success:!0})}}if(t.httpMethod==="GET"){let s=t.headers.Cookie||t.headers.cookie;return console.log("Cookies received:",s),s?{statusCode:200,headers:e,body:JSON.stringify({valid:!0})}:{statusCode:401,headers:e,body:JSON.stringify({message:"No access token found"})}}return{statusCode:404,headers:e,body:JSON.stringify({message:"Not found"})}};0&&(module.exports={handler});
//# sourceMappingURL=index.js.map
